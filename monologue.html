<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to read computer's â€˜monologueâ€™...</title>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #475569;
            --bg: #f8fafc;
            --card-bg: #ffffff;
            --on-color: #22c55e;
            --off-color: #ef4444;
            --highlight: #f59e0b;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--secondary);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 { color: var(--primary); margin-bottom: 10px; }
        h2 { border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; }
        h3 { font-size: 1.1rem; color: var(--secondary); margin-bottom: 5px; }
        p { line-height: 1.6; }

        .container {
            max-width: 850px;
            width: 100%;
        }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: #e2e8f0;
            border-radius: 8px;
            padding: 5px;
            gap: 5px;
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-weight: bold;
            color: var(--secondary);
            border-radius: 6px;
            transition: 0.3s;
            min-width: 120px;
        }

        .tab-btn.active {
            background: var(--card-bg);
            color: var(--primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Content Sections */
        .module {
            display: none;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.3s ease-in-out;
        }

        .module.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* MODULE 1 & 2 STYLES (Switches) */
        .switch-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .bit-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .switch {
            width: 50px;
            height: 90px;
            background: #cbd5e1;
            border-radius: 8px;
            cursor: pointer;
            position: relative;
            transition: 0.3s;
            border: 2px solid #94a3b8;
        }

        .switch.on {
            background: var(--on-color);
            box-shadow: 0 0 15px var(--on-color);
            border-color: #16a34a;
        }

        .switch::after {
            content: '0';
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            color: white;
            font-size: 1.2rem;
        }

        .switch.on::after { content: '1'; }

        .bulb {
            font-size: 3rem;
            filter: grayscale(100%);
            transition: 0.3s;
        }
        .bulb.lit { filter: grayscale(0%); text-shadow: 0 0 20px yellow; }

        .binary-readout {
            font-size: 2rem;
            text-align: center;
            margin: 20px 0;
            font-family: monospace;
            background: #1e293b;
            color: #22c55e;
            padding: 15px;
            border-radius: 8px;
        }

        /* 32 vs 64 Bit Section */
        .arch-container {
            background: #f1f5f9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 5px solid var(--highlight);
        }
        .arch-demo {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .arch-box {
            flex: 1;
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e2e8f0;
            min-width: 200px;
        }
        .arch-bar {
            height: 20px;
            width: 100%;
            background: #e2e8f0;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
            position: relative;
        }
        .arch-fill {
            height: 100%;
            background: var(--on-color);
            width: 0%;
            transition: 1s ease-out;
        }
        .arch-fill.crash { background: var(--off-color); }
        .btn-test {
            background: var(--primary); color: white; border: none; padding: 10px 20px;
            border-radius: 6px; cursor: pointer; font-size: 1rem; margin-top: 10px;
        }

        /* MODULE 3: ASCII STYLES */
        .decoder-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .translation-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .translation-box {
            flex: 1;
            min-width: 250px;
        }
        textarea, input[type="text"] {
            width: 100%;
            padding: 10px;
            font-size: 1.1rem;
            margin-top: 5px;
            border: 2px solid #cbd5e1;
            border-radius: 6px;
            font-family: monospace;
            box-sizing: border-box;
        }
        /* The Image Placeholder */
        .img-placeholder {
            width: 100%;
            height: 380px;
            background-image: url('https://www.labelplanet.co.uk/_cache/og_faq_glossary/1200x630/ascii-395.jpg');
            background-size: cover;
            background-position: center;
            border: 3px dashed #cbd5e1;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-weight: bold;
            margin-top: 20px;
            overflow: hidden;
        }
        /* Only for visualization in the simulator, you replace the content */
        .img-placeholder p { margin: 0; }


        /* MODULE 4: PIXEL STYLES */
        .pixel-toolbar {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            background: #f1f5f9;
            padding: 10px;
            border-radius: 8px;
        }
        .pixel-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 1px;
            width: 320px;
            margin: 0 auto;
            background: #94a3b8;
            border: 5px solid #333;
        }
        .pixel {
            aspect-ratio: 1;
            background: #ffffff;
            cursor: pointer;
        }
        .pixel:hover {
            opacity: 0.8;
        }
        .pixel-code {
            font-family: monospace;
            background: #1e293b;
            color: #fff;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            word-break: break-all;
            font-size: 0.9rem;
            max-height: 150px;
            overflow-y: auto;
        }
        input[type="color"] {
            border: none;
            width: 50px;
            height: 40px;
            cursor: pointer;
            background: transparent;
        }

    </style>
</head>
<body>

    <div class="container">
        <h1>How to read computer's â€˜monologueâ€™...</h1>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('tab1')">1. The Switch</button>
            <button class="tab-btn" onclick="switchTab('tab2')">2. The Byte & 64-bit</button>
            <button class="tab-btn" onclick="switchTab('tab3')">3. Text (ASCII)</button>
            <button class="tab-btn" onclick="switchTab('tab4')">4. Images (Color)</button>
        </div>

        <div id="tab1" class="module active">
            <h2>The Bit: The Atom of Information</h2>
            <p>Computers run on electricity. Wires can either have electricity flowing (<strong>ON</strong>) or not (<strong>OFF</strong>). We call this a "Bit".</p>
            <div class="switch-container">
                <div class="bit-wrapper">
                    <div id="singleBulb" class="bulb">ðŸ’¡</div>
                    <div class="switch" onclick="toggleSingleBit(this)"></div>
                    <div class="value-display">State: <span id="singleState">OFF (0)</span></div>
                </div>
            </div>
        </div>

        <div id="tab2" class="module">
            <h2>The Byte: Counting with Electricity</h2>
            <p>A single bit can only count to 1. But if we chain <strong>8 switches</strong> together, we get a <strong>Byte</strong>. This allows us to represent much larger numbers.</p>
            <div class="binary-readout">Value: <span id="byteDecimal">0</span></div>
            <div class="switch-container" id="byteContainer"></div>
            
            <div class="arch-container">
                <h3>The 32-bit vs. 64-bit Limit</h3>
                <p><strong>32-bit System:</strong> Can only count to 4 Billion (Max 4GB RAM).<br>
                <strong>64-bit System:</strong> Can count to 18 Quintillion (Unlimited RAM).</p>
                <div class="arch-demo">
                    <div class="arch-box">
                        <h4>32-Bit</h4>
                        <div class="arch-bar"><div id="bar32" class="arch-fill"></div></div>
                        <div id="status32" style="font-weight: bold; color: #64748b;">Ready</div>
                    </div>
                    <div class="arch-box">
                        <h4>64-Bit</h4>
                        <div class="arch-bar"><div id="bar64" class="arch-fill"></div></div>
                        <div id="status64" style="font-weight: bold; color: #64748b;">Ready</div>
                    </div>
                </div>
                <div style="text-align: center;"><button class="btn-test" onclick="runSimulation()">Launch 8GB Game</button></div>
            </div>
        </div>

        <div id="tab3" class="module">
            <h2>Text: The Secret Code (ASCII)</h2>
            <p>Computers map every letter to a number using a system called <strong>ASCII</strong>.</p>
            
            <div class="decoder-area">
                <div class="translation-row">
                    <div class="translation-box">
                        <h3>Human Language (Input)</h3>
                        <input type="text" id="humanInput" placeholder="Type text here..." oninput="encodeText()" maxlength="15">
                    </div>
                    <div class="translation-box">
                        <h3>Computer Language (Output)</h3>
                        <div id="binaryOutput" style="font-family: monospace; color: var(--primary); font-weight: bold; word-spacing: 5px;">00000000</div>
                    </div>
                </div>

                <div class="translation-row" style="background: #e0f2fe; border-color: #bae6fd;">
                    <div class="translation-box">
                        <h3>Computer Language (Input)</h3>
                        <textarea id="binaryInput" rows="3" placeholder="Paste binary here (e.g. 01001000 01101001)..." oninput="decodeBinary()"></textarea>
                    </div>
                    <div class="translation-box">
                        <h3>Human Language (Output)</h3>
                        <div id="humanOutput" style="color: #0369a1; font-weight: bold; font-size: 1.2rem; min-height: 30px;">Waiting for binary...</div>
                    </div>
                </div>
            </div>

            <div class="img-placeholder" id="ascii-chart">
            </div>
            <div>
                <p><i>* The foremost number of an ASCII binary input is used for error-checking.<br>Add a 0 in front for the above conversion.</i> </p>
            </div>
        </div>

        <div id="tab4" class="module">
            <h2>Images: Colored Pixels (Hex)</h2>
            <p>For black and white, we only needed 1 bit (0 or 1). For <strong>Color</strong>, we need a lot more data! We use <strong>Hex Codes</strong> to tell the computer exactly how much Red, Green, and Blue to mix.</p>
            
            <div class="pixel-toolbar">
                <label><strong>Select Color:</strong></label>
                <input type="color" id="pixelColor" value="#ff0000">
                <span style="font-size: 0.9rem;">(Click pixels to paint)</span>
                <button onclick="clearGrid()" style="padding: 5px 15px; cursor: pointer;">Clear Canvas</button>
            </div>

            <div style="display: flex; flex-direction: column; align-items: center;">
                <div class="pixel-grid" id="pixelGrid">
                    </div>
                
                <div class="pixel-code">
                    <strong style="color: #fbbf24;">Computer Memory (Hex Data):</strong><br>
                    <span id="pixelBinary">#FFFFFF #FFFFFF...</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- NAVIGATION ---
        function switchTab(tabId) {
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        // --- MODULE 1: SINGLE BIT ---
        function toggleSingleBit(el) {
            el.classList.toggle('on');
            const isOn = el.classList.contains('on');
            document.getElementById('singleBulb').classList.toggle('lit', isOn);
            document.getElementById('singleState').innerText = isOn ? "ON (1)" : "OFF (0)";
        }

        // --- MODULE 2: THE BYTE ---
        const byteContainer = document.getElementById('byteContainer');
        for (let i = 7; i >= 0; i--) {
            const val = Math.pow(2, i);
            const wrapper = document.createElement('div');
            wrapper.className = 'bit-wrapper';
            wrapper.innerHTML = `
                <div class="value-display" style="font-size: 0.9rem">${val}</div>
                <div class="switch byte-switch" data-val="${val}" onclick="toggleByteBit(this)"></div>
            `;
            byteContainer.appendChild(wrapper);
        }

        function toggleByteBit(el) {
            el.classList.toggle('on');
            let total = 0;
            document.querySelectorAll('.byte-switch').forEach(sw => {
                if (sw.classList.contains('on')) total += parseInt(sw.getAttribute('data-val'));
            });
            document.getElementById('byteDecimal').innerText = total;
        }

        function runSimulation() {
            const bar32 = document.getElementById('bar32');
            const bar64 = document.getElementById('bar64');
            const stat32 = document.getElementById('status32');
            const stat64 = document.getElementById('status64');

            // Reset
            [bar32, bar64].forEach(b => { b.className = 'arch-fill'; b.style.width = '0%'; });
            stat32.innerText = "Loading..."; stat64.innerText = "Loading...";

            setTimeout(() => {
                bar32.style.width = '50%'; 
                setTimeout(() => { bar32.classList.add('crash'); stat32.innerText = "CRASH! Out of Memory."; stat32.style.color = "#ef4444"; }, 1000);

                bar64.style.width = '100%';
                setTimeout(() => { stat64.innerText = "Success! Game Running."; stat64.style.color = "#22c55e"; }, 1000);
            }, 100);
        }

        // --- MODULE 3: TEXT (ASCII) ---
        // 1. Text to Binary
        function encodeText() {
            const input = document.getElementById('humanInput').value;
            let output = "";
            for (let i = 0; i < input.length; i++) {
                let bin = input[i].charCodeAt(0).toString(2);
                while (bin.length < 8) bin = "0" + bin;
                output += bin + " ";
            }
            document.getElementById('binaryOutput').innerText = output || "00000000";
        }

        // 2. Binary to Text
        function decodeBinary() {
            const input = document.getElementById('binaryInput').value;
            // Clean up input: remove anything that isn't 0, 1, or space
            const cleanInput = input.replace(/[^01 ]/g, '');
            const bytes = cleanInput.split(/\s+/); // Split by space
            let textOutput = "";

            bytes.forEach(byte => {
                if(byte.length === 8) { // Only process valid 8-bit chunks
                    const charCode = parseInt(byte, 2);
                    if(!isNaN(charCode)) textOutput += String.fromCharCode(charCode);
                }
            });

            document.getElementById('humanOutput').innerText = textOutput || "...";
        }

        // --- MODULE 4: IMAGES (COLOR) ---
        const pixelGrid = document.getElementById('pixelGrid');
        const totalPixels = 64; 

        // Initialize Grid
        for (let i = 0; i < totalPixels; i++) {
            const pix = document.createElement('div');
            pix.className = 'pixel';
            pix.style.backgroundColor = '#000000'; // Default black
            
            // Add click event to paint
            pix.onclick = function() {
                const color = document.getElementById('pixelColor').value;
                this.style.backgroundColor = color;
                updateHexData();
            };
            pixelGrid.appendChild(pix);
        }

        function updateHexData() {
            let hexString = "";
            const pixels = document.querySelectorAll('.pixel');
            pixels.forEach((p, index) => {
                // Convert RGB to Hex
                const rgb = p.style.backgroundColor; // returns "rgb(r, g, b)"
                const hex = rgbToHex(rgb);
                hexString += hex.toUpperCase() + " ";
                
                // Add line break in code display every 8 pixels (row end)
                if ((index + 1) % 8 === 0) hexString += "\n"; 
            });
            document.getElementById('pixelBinary').innerText = hexString;
        }

        function clearGrid() {
            document.querySelectorAll('.pixel').forEach(p => p.style.backgroundColor = '#ffffff');
            updateHexData();
        }

        // Helper to convert rgb(x, y, z) to #hex
        function rgbToHex(rgb) {
            if (rgb.startsWith('#')) return rgb; // already hex
            
            // Extract numbers from rgb string
            const rgbValues = rgb.match(/\d+/g);
            if (!rgbValues) return "#FFFFFF";

            return "#" + 
                ((1 << 24) + (parseInt(rgbValues[0]) << 16) + 
                (parseInt(rgbValues[1]) << 8) + 
                parseInt(rgbValues[2])).toString(16).slice(1);
        }
        
        // Initial run
        updateHexData();

    </script>
</body>
</html>
